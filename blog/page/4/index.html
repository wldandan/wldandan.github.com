
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Happy Coding, Happy Life</title>
  <meta name="author" content="wldandan">

  
  <meta name="description" content="Mockito是一个方便的java测试Mock工具。 当我们做TDD或者单元测试的时候，为了消除当前被测对象和其依赖之间的关系，经常使用Mockito。 本篇文章只涉及如何使用Mockito的Partial Mock。关于Mockito的其他用法，请参照Mockito 1. 什么是Partial &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://wldandan.github.com/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Happy Coding, Happy Life" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47321446-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_setDomainName','github.io']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Happy Coding, Happy Life</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:wldandan.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">文章</a></li>
  <li><a href="/blog/archives">归档</a></li>
  <li><a href="/about">关于我</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/09/mockito-partial-mocking-learning/">Mockito - Partial Mock</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-09T17:09:00+08:00" pubdate data-updated="true">Dec 9<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/12/09/mockito-partial-mocking-learning/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Mockito是一个方便的java测试Mock工具。</p>

<p>当我们做TDD或者单元测试的时候，为了消除当前被测对象和其依赖之间的关系，经常使用Mockito。</p>

<p>本篇文章只涉及如何使用Mockito的Partial Mock。关于Mockito的其他用法，请参照<a href="https://code.google.com/p/mockito/">Mockito</a></p>

<h3>1. 什么是Partial Mock</h3>

<p>在单元测试的过程中，偶尔会出现这种情况。对于一个对象，某些方法需要被mock,而某些方法希望被直接调用，这时候，我们就需要借助Partial Mock。</p>

<h3>2. 使用Partial Mock的场景</h3>

<p>在如下两种场景中，Partial Mock就显得相当犀利：</p>

<h4>a) 测试存在具体方法的抽象类</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public abstract class AbstractHandler {
</span><span class='line'>
</span><span class='line'>    public String greet() {
</span><span class='line'>        return "Hello " + fetchName() + "!";
</span><span class='line'>    }
</span><span class='line'> 
</span><span class='line'>    protected abstract String fetchName();
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>如上代码所示，抽象类AbstractHandler中定义了方法greet()，并且该方法存在一定逻辑。
此时，如果希望测试greet()，可以选择两种方式：</p>

<ul>
<li>构建其派生非抽象类，如ConcertHandler，再进行测试。</li>
<li>使用Partial Mock，它可以省去构建派生类的步骤，直接对该抽象类进行测试，代码如下所示:</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class AbstractHandlerTest {
</span><span class='line'>      
</span><span class='line'>    @Test
</span><span class='line'>    public void shouldCallRealMethodsAndFakeAbstractMethod() {
</span><span class='line'>        AbstractHandler handler = mock(AbstractHandler.class);
</span><span class='line'>
</span><span class='line'>        when(handler.greet()).thenCallRealMethod(); 
</span><span class='line'>        when(handler.fetchName()).thenReturn("Geek");
</span><span class='line'>
</span><span class='line'>        assertThat(handler.greet(), is("Hello Geek!"));
</span><span class='line'>    }
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>如代码所示，对于抽象方法fechName()，直接mock其返回值</p>

<pre><code>when(handler.fetchName()).thenReturn("Geek");
</code></pre>

<p>对于被测方法greet()，则使用thenCallRealMethod()使Mock对象调用真实的实现方法。</p>

<pre><code>when(handler.greet()).thenCallRealMethod();
</code></pre>

<h4>b)测试过分依赖于I/O操作的类</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>public class BooksController {
</span><span class='line'>
</span><span class='line'>    protected Map&lt;String, Date&gt; fetchBooks(){
</span><span class='line'>        //fetch the books from different publishing company.
</span><span class='line'>        service1.retrieveBooks();
</span><span class='line'>        service2.retrieveBooks();
</span><span class='line'>        ......
</span><span class='line'>        service10.retrieveBooks();
</span><span class='line'>
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    protected List&lt;String&gt; getPublishedBooks(){
</span><span class='line'>
</span><span class='line'>        books = fetchBooks();
</span><span class='line'>        //only pick up the books published.
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>如上代码所示，类BooksController中定义了方法fetchBooks()，并且该方法严重依赖于I/O操作。因为fetchBooks()从不同的供应商那里获取最近的书籍信息。</p>

<p>对于这种测试，也有两种方案：</p>

<ul>
<li>Mock所有的service返回结果，然后测试getPublishedBooks()。</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>doReturn(xxxx).when(service1).retrieveBooks()
</span><span class='line'>doReturn(xxxx).when(service2).retrieveBooks()
</span><span class='line'>doReturn(xxxx).when(service3).retrieveBooks()</span></code></pre></td></tr></table></div></figure>


<ul>
<li>除此之外，也可以考虑在测试getPublishedBooks()的时候，对fetchBooks()方法进行mock。如下所示：</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class BooksControllerTest {
</span><span class='line'>
</span><span class='line'>    @Test
</span><span class='line'>    public void shouldReturnPublishedBooks(){
</span><span class='line'>        BooksController controller = spy(new BooksController());
</span><span class='line'>
</span><span class='line'>        Map&lt;String, Date&gt; books = new HashMap&lt;String, Date&gt;();
</span><span class='line'>        books.put("XXX1", "2014-2-1");
</span><span class='line'>        books.put("XXX2", "2014-3-1");
</span><span class='line'>
</span><span class='line'>        doReturn(books).when(controller).fetchBooks();
</span><span class='line'>
</span><span class='line'>        assertThat(controller.getPublishedBooks(), is(....));
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>在如上的代码中，controller是BookController一个真实的实例，非mock对象。  原因是当前被测类为BooksController，因此不能将该类的实例定义成mock。<br/>
另外，controller的fetchBooks()方法虽然被partial mock了，但其他的方法还是该实例真正的方法。</p>

<p>因此，Spy的作用是将原本被实例化的对象，附上了Mock的功能。</p>

<h5>注意，该场景完全是为了演示Partial mock。在实际情况中，如将books作为实例变量，并提供setBooks(List books)方法，根本不需要mock就能完成对getPublishedBooks的测试。另外，对于这种使用Spy的Partial Mock场景，大多数情况也是因为类的设计违背了SRP原则。</h5>

<h3>3. 两种Partial Mock方式</h3>

<p>让我们再回顾一下上面的例子，并总结一下Partial Mock的两种用法:</p>

<ul>
<li><p>使用Mock构建对象，再使用CallRealMethod指定某方法为真实调用。</p></li>
<li><p>实例化对象，定义Spy，再使用doReturn(xxx).when(xxx).method()</p></li>
</ul>


<h3>4. 区别</h3>

<p>起初，偶比较倾向于使用CallRealMethod。因为该方法名足够表意，很容易就能理解其带来的用途。
不过，使用CallRealMethod却不是推荐的方式，为什么呢，请看如下代码：</p>

<pre><code>@Test
public void testListPartialMockByCallRealMethod(){
    List&lt;Integer&gt; list = mock(ArrayList.class);
    when(list.add(100)).thenCallRealMethod();

    list.add(100);
    verify(list).add(100);
}
</code></pre>

<p>代码没问题吧，不过运行后，却得到如下错误：</p>

<pre><code>java.lang.NullPointerException
    at java.util.ArrayList.add(ArrayList.java:352)
    at com.wl.tw.VersionInfoCheckTest.testListByCallRealMethod(VersionInfoCheckTest.java:59)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</code></pre>

<p>如果查看ArrayList.java:352的代码，就会发现</p>

<pre><code>350    public boolean add(E e) {
351        ensureCapacity(size + 1);  // Increments modCount!!
352        elementData[size++] = e;
353        return true;
354    }
</code></pre>

<p>在第352行，ArrayList实际上使用了另外一个对象elementData来存放新加入的元素。</p>

<p>在这个例子中，由于ArrayList是mock的，并不是实例化出来的，所以mock的ArrayList并没有初始化elementData对象。这就是为什么会出现NullPointerException的原因。</p>

<h3>5. 总结</h3>

<ul>
<li>当使用mockito mock对象时，它并不会mock该对象内部的其他依赖对象。</li>
<li>当使用mockito partial mock时，注意spy和CallRealMethod的区别。</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/22/vagrant-learning-provision/">Vagrant Learning - 4 (Provision)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-22T23:02:00+08:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2013</time>
        
         | <a href="/blog/2013/11/22/vagrant-learning-provision/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>如何安装应用</h3>

<p>当我们第一次使用Box创建VM时，它通常是个没有装太多应用的裸机。所以，就会面临一个问题：
如何快速并有效的安装工作需要的软件，如数据库、Web服务器等?</p>

<p>目前，基本上有两种方式：</p>

<h4>手动安装</h4>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/22/vagrant-learning-provision/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/14/vagrant-learning-box/">Vagrant Learning - 3 (Box)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-14T17:02:00+08:00" pubdate data-updated="true">Nov 14<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/11/14/vagrant-learning-box/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>什么是Vagrant Box</h3>

<p>谈论完了Vagrantfile，让我们看看Vagrant的另外一个重要概念Box。它是Vagrant运行VM的必要条件。
基本上，从头开始建立一个VM是相当耗时的工作，于是Vagrant使用一个基础映像(base image), 克隆它并快速创建一个可用的VM。<br/>
在Vagrant的世界里，所有这些基础映像统称为Box。简单地说，Box可以理解为创建VM时需要的模板，通过这些模板，我们可以创建VM。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/14/vagrant-learning-box/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/06/vagrant-learning-two-vagrantfile/">Vagrant Learning - 2 (Configuration)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-06T17:26:00+08:00" pubdate data-updated="true">Nov 6<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/11/06/vagrant-learning-two-vagrantfile/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Vagrantfile</h3>

<p>Vagrantfile是Vagrant启动并设置VM的配置文件，每个VM都必须有一个Vagrantfile。
当执行<code>Vagrant init</code>，Vagrant便会帮我们生成一个默认的Vagrantfile。
当然，不同的VM可以根据需求更改Vagrantfile的配置信息。</p>

<p>对于开发团队，我们可以将Vagrant配置文件放入版本管理系统，从而整个团队能够共享并不断改进该文件，在团队内部提供一种方便快捷的方式，构建产品运行环境。</p>

<p>譬如，我们可以执行如下代码生成Vagrantfile</p>

<pre><code>mkdir vm &amp;&amp; cd vm  
vagrant init precise64 http://files.vagrantup.com/precise64.box
</code></pre>

<p>Vagrant会提示</p>

<pre><code>A Vagrantfile has been placed in this directory. You are now
ready to 'vagrant up' your first virtual environment! Please read
the comments in the Vagrantfile as well as documentation on
'vagrantup.com' for more information on using Vagrant.
</code></pre>

<p>查看当前目录，会发现Vagrantfile已经生成。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/06/vagrant-learning-two-vagrantfile/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/04/vagrant-learning-one-introduction/">Vagrant Learning - 1 (Basic Concepts)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-04T20:02:00+08:00" pubdate data-updated="true">Nov 4<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/11/04/vagrant-learning-one-introduction/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>为什么选择Vagrant</h3>

<ul>
<li>能够构建可配置的、轻量级的、便携式的虚拟服务器</li>
<li>安装简单，提供不同平台的安装包</li>
<li>一条命令即可创建出虚拟机环境，而且官方提供各种虚拟机的模板。</li>
<li>能够最大化的帮助个人或者团队快速配置环境。譬如说，如果你是团队中的一员，通过Vagrant创建出一套独立的运行环境后，团队的其他成员能够使用该配置，创建完全一样地工作环境。所以无论你是工作在Linux，Mac OS X或Windows ，所有的团队成员都能在同一环境下运行代码，拥有相同的依赖。告别环境不一致带来的问题。</li>
<li>提供Shell、Chef或者Puppet的支持，能够利用这些工具(Infrastructure As Code的方式)配置环境。</li>
<li>从1.2的版本开始，不但支持VirtualBox,VmWare, 还开始支持Amazon EC2。</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/04/vagrant-learning-one-introduction/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/01/vagrant-build-env-easy/">Vagrant - Make Dev Environment Easy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-01T18:37:00+08:00" pubdate data-updated="true">Nov 1<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/11/01/vagrant-build-env-easy/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>背景介绍</h3>

<ul>
<li><p>最近的Java项目是个同海外团队合作的遗留系统，包括数据库服务器、邮件服务器、Web服务器、FAST搜索引擎、JBOSS中间件等等节点。为了便于团队使用，我们在Amazon 的EC2上建立了一套完整的端到端的运行环境。</p></li>
<li><p>团队成员在本地搭建了Web环境，数据库环境，便于开发及调试。但由于Mac上安装FAST并不是一件易事，因此在本地跑应用的时候依赖于Amazon EC2的FAST节点。</p></li>
<li><p>持续集成、CI在当今的时代已经不是什么新鲜玩意了，越来越多的团队已经了解并运用在实践中。对于我们和海外客户共同开发的这种情况，CI挂了可不是太好，因此在每次提交代码之前，需要确保本地所有的测试都能通过，才能提交代码。</p></li>
</ul>


<p>于是乎，问题就来了:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/01/vagrant-build-env-easy/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/11/twu-pune-bungalow/">TWU - the Bungalow in Pune of India</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-11T12:07:00+08:00" pubdate data-updated="true">Oct 11<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/10/11/twu-pune-bungalow/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>TWU32届的Trainer陆陆续续的都撤了，于是乎，我们就有了机会搬进他们的House，Pune的人民称之为&#8221;Bungalow&#8221;，实际上我觉得是个2层的别墅。</p>

<p>有趣的事情来了，我们住得bugalow，我之前两次没记住具体的地址，以至于做三轮车的时候都和师傅说不太清楚。某天一个同事给我说，你就这样说bungalow的地址&#8221;guo de gao park&#8221;，oh my god，这下我记住了，“郭德纲 park&#8221;。其实原本的拼写是这样的“Koregaon Park”，发音有那么一丁点类似而已 :)</p>

<p><img src="/images/twu/koregaon.png" /></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/10/11/twu-pune-bungalow/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/08/create-blog-on-github/">How to Use Octopress to Set Up Blog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-08T14:20:00+08:00" pubdate data-updated="true">Oct 8<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/10/08/create-blog-on-github/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Setup blog</h2>

<h5>Install RVM</h5>

<p>bash &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)
rvm install 1.9.2 rvm use 1.9.2 &#8211;default</p>

<h5>Clone repo</h5>

<p>git clone git://github.com/imathis/octopress.git octopress</p>

<p>gem install bundler
bundle install
bundle update # 不执行，则下一步rake会报版本不匹配
rake install
rake setup_github_pages</p>

<h2>Publish new article</h2>

<p>rake new_post[&#8220;My first post&#8221;]
rake generate # 第一次使用，最好先编辑一下_config.yml</p>

<p>rake preview # 本地查看，地址是http://localhost:4000
rake deploy</p>

<h2>Update Source</h2>

<p>git commit -m &#8216;your message&#8217;</p>

<p>git push origin source</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/22/twu-pune-first-week/">TWU - the First Week in Pune of India</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-22T15:27:00+08:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2013</time>
        
         | <a href="/blog/2013/08/22/twu-pune-first-week/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>还在墨尔本出差的最后一周，Mark问我愿意去TWU当coach不…….于是乎，我就在8月中旬来了浦那(Pune)。一路上同行的还有JK和邱大师，中午从西安出发，先抵达香港，再转机到班加罗尔时已经是第二天凌晨5点多，又搭乘印度国内的航班，总算在早上10点多下榻酒店。</p>

<p>浦那位于印度西部的城市，位于孟买东南140公里，设有不少学院及大学，素有「东方牛津」的美名。城内有著名的Magapatta City软件园和塔塔汽车公司。</p>

<p>Pune的基础建设比想象中落后些，基本上都是单向双车道，挤满了各类车辆，卡车，私家车，中巴车，这种情况下，当然小巧方便的摩托车和三轮车更胜一筹。钻来钻去，穿梭在大大小小的缝隙中，我想这也是为什么摩托车和三轮车成为主要交通工具的原因之一。道路的两边并没有明显的划分出人行道，大概能走的部分可能不到半米宽。除了在主干道的十字路口见到一组红绿灯，其余的道路基本没有红绿灯，过马路绝对是个不小的挑战。千万记得，是看左边哦 :)</p>

<p>Shalina安排的很周到，抵达的第一天，就给我们发了大礼包(有手机，充电器，耳机，还有印度地图和SIM卡)，哈哈，最重要的当然就这张SIM卡了。这里赞一下小米，无缝即插即用，邱大师的IPhone就没这么幸运了，和他找了个地方花了100卢比把卡裁的小点，也能使了。不过赞一下，印度人民的服务真是不错啊，相当仔细嘞。</p>

<p>住了几天Keys Hotel后，公司决定把我们搬到O Hotel, 因为TWU的培训地就在O hotel。O hotel的电梯设计的很别致，很难想象这是电梯的顶部装修吧(有漂亮的小星星哦)，而且还有优美的旋律伴奏。</p>

<p><img src="/images/twu/elevator.png" /></p>

<p>早餐很精致，有水果，煎蛋还有各种干货，哈哈。午饭一般就是米饭和印度传统的鸡肉糊糊，不过汤有时候还是蛮不错的，毕了，还有各种甜点。</p>

<p>TWU的培训地点就在2楼，上午10点半和下午的3点半，提供咖啡、茶、牛奶和甜点。</p>

<p>前面2周主要都是TTT(Train the Trainer)，就是我们新来的小样接受以前Trainer的培训。到下午6点，结束了一天的培训，基本上就可以自由活动了。哈，Pune有很多有趣的东西等着我们explore呢……</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/26/javascript-variable-scope-and-hoisting/">Understanding Javascript Variable Scope &amp; Hoisting</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-26T22:10:00+08:00" pubdate data-updated="true">May 26<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/05/26/javascript-variable-scope-and-hoisting/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在这篇文章中，我将介绍Javascript中变量的作用域以及变量提升的一些相关知识。</p>

<h2>变量作用域</h2>

<p>变量作用域是指变量存在的上下文环境，它表明了当定义一个变量后，代码如何能够访问该变量。基本上，Javascript的变量有两种：
局部变量和全局变量（废话，哪门语言没有这两种！）</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/05/26/javascript-variable-scope-and-hoisting/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Categories</h1>
<ul id="categories">
  <li class='category'><a href='/blog/categories/aws/'>AWS (1)</a></li>
<li class='category'><a href='/blog/categories/gradle/'>Gradle (4)</a></li>
<li class='category'><a href='/blog/categories/hardware/'>Hardware (2)</a></li>
<li class='category'><a href='/blog/categories/java/'>Java (1)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>Javascript (3)</a></li>
<li class='category'><a href='/blog/categories/k8s/'>K8s (7)</a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (1)</a></li>
<li class='category'><a href='/blog/categories/microservices/'>Microservices (12)</a></li>
<li class='category'><a href='/blog/categories/nosql/'>NoSQL (2)</a></li>
<li class='category'><a href='/blog/categories/splunk/'>Splunk (1)</a></li>
<li class='category'><a href='/blog/categories/test/'>Test (2)</a></li>
<li class='category'><a href='/blog/categories/tools/'>Tools (2)</a></li>
<li class='category'><a href='/blog/categories/travel/'>Travel (2)</a></li>
<li class='category'><a href='/blog/categories/vagrant/'>Vagrant (5)</a></li>
<li class='category'><a href='/blog/categories/webrtc/'>WebRTC (3)</a></li>

</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2019/03/17/k8s-concept-service/">K8s之Service</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/03/16/k8s-concept-controller/">K8s之控制器</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/03/16/k8s-concept-pod/">K8s之Pod</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/03/15/k8s-concept-network/">K8s之网络</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/03/15/k8s-concept-cluster/">K8s之集群</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Weibo</h1>
  <ul id="weibo">
    <li>
        <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1889327273&verifier=05c35703&dpc=1"></iframe>
	</li>
  </ul>
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/wldandan?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 - wldandan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'happycodehappylife';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
